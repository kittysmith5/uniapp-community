{"version":3,"sources":["uni-app:///main.js",null,"webpack:///H:/Code/Uniapp/community/study/pages/index/index.vue?1784","webpack:///H:/Code/Uniapp/community/study/pages/index/index.vue?3cf0","webpack:///H:/Code/Uniapp/community/study/pages/index/index.vue?0c87","uni-app:///pages/index/index.vue","webpack:///H:/Code/Uniapp/community/study/pages/index/index.vue?13ba","webpack:///H:/Code/Uniapp/community/study/pages/index/index.vue?4f80"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","data","adList","currentSwiperIndex","feedsList","newsList","swiperSliderHeight","swiperSliderFeedsHeight","swiperSliderNewsHeight","navBarShowTag","oldFeedsScrollTop","oldNewsScrollTop","computed","components","watch","console","onLoad","uni","onPageScroll","onPullDownRefresh","onReachBottom","methods","gotoTab","url","swiperChange","duration","scrollTop","getAds","onSwiperChange","getFeeds","feeds","item","cover","avatar","name","getNews","news","length"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACqM;AACrM,gBAAgB,6MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+vB,CAAgB,+wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC+QnxB;AAGA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;EACAC;IACA;MAEA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACA;IACA;EACA;;EACAC,4BACA,oCACA;EACAC;IACA;EACA;EACAC;IACAX;MACAY;IACA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;;cAEA;cACAC;gBACA;gBACA;gBACA;gBACA;cACA;cAEAA;gBACA;gBACA;gBACA;gBACA;cACA;;cAEA;cACAA;gBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAGA;EACAC;IACA;IACA,gCACA,4CACA;;IAEA;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACAL;QACAM;MACA;IACA;IACA;IACAC;MACA;MACA,0BACA,0CACA,+BACA;MAEA;MAEA;QACAP;UACAQ;UACAC;QACA;MACA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA1B;kBACAW;kBACA,uCACAgB;oBACAC;oBACAC;oBACAC;kBAAA;gBAEA;gBACA;gBACAjB;kBACAF;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAoB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA/B;kBACA,uCACA0B;oBACAC;kBAAA;gBAEA;gBAEA,4DACA,8DACA,mDACA3B,UACA,EACAgC,mBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9aA;AAAA;AAAA;AAAA;AAAk8C,CAAgB,s5CAAG,EAAC,C;;;;;;;;;;;ACAt9C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.adList, function (ad, __i0__) {\n    var $orig = _vm.__get_orig(ad)\n    var m0 = encodeURI(ad.data.link)\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  var l1 = _vm.__map(_vm.newsList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var f0 = _vm._f(\"timeFormate\")(item.created_at)\n    return {\n      $orig: $orig,\n      f0: f0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"index\">\r\n        <uni-nav-bar v-if=\"navBarShowTag\">\r\n            <view class=\"tabs-box\">\r\n                <view\r\n                    class=\"one-nav\"\r\n                    :class=\"currentSwiperIndex === 0 ? 'nav-actived' : '' \"\r\n                    @tap=\"swiperChange(0)\"\r\n                >\r\n                    推荐\r\n                </view>\r\n                <view\r\n                    class=\"one-nav\"\r\n                    :class=\"currentSwiperIndex === 1 ? 'nav-actived' : '' \"\r\n                    @tap=\"swiperChange(1)\"\r\n                >\r\n                    资讯\r\n                </view>\r\n            </view>\r\n        </uni-nav-bar>\r\n\r\n        <view class=\"header-box\">\r\n            <!-- 顶部广告位轮播图 -->\r\n            <swiper\r\n                class=\"swiper\"\r\n                :indicator-dots=\"false\"\r\n                :autoplay=\"true\"\r\n                :interval=\"2500\"\r\n                :duration=\"500\"\r\n            >\r\n                <swiper-item\r\n                    v-for=\"ad in adList\"\r\n                    :key=\"ad.key\"\r\n                >\r\n                    <navigator\r\n                        open-type=\"navigate\"\r\n                        :url=\" '/pages/webview/webview?url='+ encodeURI(ad.data.link)\"\r\n                    >\r\n                        <image\r\n                            class=\"banner-swiper-img\"\r\n                            :src=\"ad.data.image\"\r\n                            mode=\"aspectFill\"\r\n                        />\r\n                    </navigator>\r\n                </swiper-item>\r\n            </swiper>\r\n            <!-- 遮罩使用弧形框 -->\r\n            <image\r\n                class=\"crile\"\r\n                src=\"@/static/crile.png\"\r\n                mode=\"aspectFill\"\r\n            />\r\n            <!-- 两个选项按钮 -->\r\n            <view class=\"card-header\">\r\n                <view\r\n                    class=\"card-one card-left\"\r\n                    @tap=\"gotoTab('/pages/feeds/feeds')\"\r\n                >\r\n                    <image\r\n                        class=\"img\"\r\n                        src=\"@/static/coffee.png\"\r\n                        mode=\"aspectFill\"\r\n                    />\r\n                    <view class=\"iright\">\r\n                        <view class=\"title\">精彩动态</view>\r\n                    </view>\r\n                </view>\r\n                <view\r\n                    class=\"card-one card-right\"\r\n                    @tap=\"gotoTab('/pages/me/me')\"\r\n                >\r\n                    <image\r\n                        class=\"img\"\r\n                        src=\"@/static/ran.png\"\r\n                        mode=\"aspectFill\"\r\n                    />\r\n                    <view class=\"iright\">\r\n                        <view class=\"title\">个人中心</view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n            <!-- Tab 选项卡 -->\r\n            <view class=\"tabs-box\">\r\n                <view\r\n                    class=\"one-nav\"\r\n                    :class=\"currentSwiperIndex === 0 ? 'nav-actived' : '' \"\r\n                    @tap=\"swiperChange(0)\"\r\n                >推荐\r\n                </view>\r\n                <view\r\n                    class=\"one-nav\"\r\n                    :class=\"currentSwiperIndex === 1 ? 'nav-actived' : '' \"\r\n                    @tap=\"swiperChange(1)\"\r\n                >资讯\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <!-- 内容轮播导航实现 -->\r\n        <swiper\r\n            class=\"swiper-box\"\r\n            :style=\"'height:'+swiperSliderHeight\"\r\n            @change=\"onSwiperChange\"\r\n            :current=\"currentSwiperIndex\"\r\n        >\r\n            <!-- 推荐动态实现 -->\r\n            <swiper-item class=\"swiper-item sns-now\">\r\n                <!-- css3 实现瀑布流 -->\r\n                <!-- style=\"column-gap: 10px;column-count: 2;\" -->\r\n                <view class=\"feeds-box\">\r\n                    <waterfall-sns\r\n                        v-model=\"feedsList\"\r\n                        ref=\"waterfall\"\r\n                    >\r\n                        <template v-slot:left=\"{leftList}\">\r\n                            <view\r\n                                class=\"feed-one\"\r\n                                v-for=\"(item, index) in leftList\"\r\n                                :key=\"index\"\r\n                            >\r\n                                <navigator\r\n                                    open-type=\"navigate\"\r\n                                    :url=\"`/subpages/feedinfo/feedinfo?id=${item.id}`\"\r\n                                >\r\n                                    <image\r\n                                        class=\"feed-img\"\r\n                                        :src=\"item.cover\"\r\n                                        mode=\"widthFix\"\r\n                                        :lazy-load=\"true\"\r\n                                    />\r\n                                    <view\r\n                                        class=\"u-line-2 feed-title\"\r\n                                        v-if=\"!!item.feed_content\"\r\n                                    >{{ item.feed_content }}\r\n                                    </view>\r\n                                    <view class=\"feed-info\">\r\n                                        <view class=\"iview\">\r\n                                            <image\r\n                                                class=\"avatar\"\r\n                                                :src=\" item.avatar\"\r\n                                            />\r\n                                            <text class=\"name u-line-1\">{{ item.name }}</text>\r\n                                        </view>\r\n                                        <view class=\"iview\">\r\n                                            <view\r\n                                                class=\"ilike\"\r\n                                                @tap.stop=\"clickLove(item)\"\r\n                                            >\r\n                                                <image\r\n                                                    v-if=\"item.has_like\"\r\n                                                    src=\"@/static/lover.png\"\r\n                                                    class=\"micon\"\r\n                                                />\r\n                                                <image\r\n                                                    v-else\r\n                                                    src=\"@/static/love.png\"\r\n                                                    class=\"micon\"\r\n                                                />\r\n                                                <text\r\n                                                    class=\"love-count\"\r\n                                                    v-if=\"item.like_count>0\"\r\n                                                >\r\n                                                    {{ item.like_count }}\r\n                                                </text>\r\n                                            </view>\r\n                                        </view>\r\n                                    </view>\r\n                                </navigator>\r\n                            </view>\r\n                        </template>\r\n                        <template v-slot:right=\"{rightList}\">\r\n                            <view\r\n                                class=\"feed-one\"\r\n                                v-for=\"(item, index) in rightList\"\r\n                                :key=\"index\"\r\n                            >\r\n                                <navigator\r\n                                    open-type=\"navigate\"\r\n                                    :url=\"`/subpages/feedinfo/feedinfo?id=${item.id}`\"\r\n                                >\r\n                                    <image\r\n                                        class=\"feed-img\"\r\n                                        :src=\"item.cover\"\r\n                                        mode=\"widthFix\"\r\n                                        :lazy-load=\"true\"\r\n                                    />\r\n                                    <view\r\n                                        class=\"u-line-2 feed-title\"\r\n                                        v-if=\"!!item.feed_content\"\r\n                                    >\r\n                                        {{ item.feed_content }}\r\n                                    </view>\r\n                                    <view class=\"feed-info\">\r\n                                        <view class=\"iview\">\r\n                                            <image\r\n                                                class=\"avatar\"\r\n                                                :src=\" item.avatar\"\r\n                                            />\r\n                                            <text class=\"name u-line-1\">{{ item.name }}</text>\r\n                                        </view>\r\n                                        <view class=\"iview\">\r\n                                            <view\r\n                                                class=\"ilike\"\r\n                                                @tap.stop=\"clickLove(item)\"\r\n                                            >\r\n                                                <image\r\n                                                    v-if=\"item.has_like\"\r\n                                                    src=\"@/static/lover.png\"\r\n                                                    class=\"micon\"\r\n                                                />\r\n                                                <image\r\n                                                    v-else\r\n                                                    src=\"@/static/love.png\"\r\n                                                    class=\"micon\"\r\n                                                />\r\n                                                <text\r\n                                                    class=\"love-count\"\r\n                                                    v-if=\"item.like_count>0\"\r\n                                                >\r\n                                                    {{ item.like_count }}\r\n                                                </text>\r\n                                            </view>\r\n                                        </view>\r\n                                    </view>\r\n                                </navigator>\r\n                            </view>\r\n                        </template>\r\n                    </waterfall-sns>\r\n                </view>\r\n            </swiper-item>\r\n            <!-- 资讯列表实现 -->\r\n            <swiper-item class=\"swiper-item sns-news\">\r\n                <view\r\n                    v-for=\"(item, index) in newsList\"\r\n                    :key=\"index\"\r\n                >\r\n                    <navigator\r\n                        class=\"one-new\"\r\n                        open-type=\"navigate\"\r\n                        :url=\"`/subpages/newinfo/newinfo?id=${item.id}`\"\r\n                    >\r\n                        <view class=\"left\">\r\n                            <view class=\"title u-line-2\">{{item.title}}</view>\r\n                            <view class=\"uinfo\">\r\n                                <view class=\"iview\">\r\n                                    <view class=\"utime\">\r\n                                        <text class=\"name\">{{ item.author }}</text>\r\n                                    </view>\r\n                                </view>\r\n                                <text class=\"uptime\">{{ item.created_at | timeFormate}}发布</text>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"right\">\r\n                            <image\r\n                                class=\"pic\"\r\n                                mode=\"aspectFill\"\r\n                                :src=\"item.cover\"\r\n                            />\r\n                        </view>\r\n                    </navigator>\r\n                </view>\r\n            </swiper-item>\r\n        </swiper>\r\n        <goto-share></goto-share>\r\n        <login\r\n            ref=\"login\"\r\n            v-if=\"!loginState\"\r\n        ></login>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        mapState\r\n    } from 'vuex'\r\n    import todoLoveMixin from \"@/mixins/todoLove.js\"\r\n    import snsWaterfall from \"@/components/snsWaterfall.vue\"\r\n    export default {\r\n        mixins: [todoLoveMixin],\r\n        data() {\r\n            return {\r\n\r\n                // title: '首页'\r\n                adList: [],\r\n                currentSwiperIndex: 0,\r\n                // current:0,\r\n                feedsList: [],\r\n                newsList: [],\r\n                swiperSliderHeight: \"1000px\",\r\n                swiperSliderFeedsHeight: \"0px\",\r\n                swiperSliderNewsHeight: \"0px\",\r\n                navBarShowTag: false,\r\n                //记录滚动所在的位置\r\n                oldFeedsScrollTop: 0,\r\n                oldNewsScrollTop: 0,\r\n                //记录咨询所在的位置\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState([\"loginState\"])\r\n        },\r\n        components: {\r\n            \"waterfall-sns\": snsWaterfall\r\n        },\r\n        watch: {\r\n            currentSwiperIndex(newVal, oldVal) {\r\n                console.log('newVal-oldVal', newVal, oldVal)\r\n            }\r\n        },\r\n        async onLoad() {\r\n            this.getAds()\r\n            this.getFeeds()\r\n            this.getNews()\r\n\r\n            //用户登录完成后,触发的行为\r\n            uni.$on(\"indexUserLogin\", () => {\r\n                this.currentSwiperIndex = 0\r\n                this.feedsList = []\r\n                this.$refs.waterfall.clear()\r\n                this.getFeeds()\r\n            })\r\n\r\n            uni.$on(\"indexUserLogout\", () => {\r\n                this.currentSwiperIndex = 0\r\n                this.feedsList = []\r\n                this.$refs.waterfall.clear()\r\n                this.getFeeds()\r\n            })\r\n\r\n            //点赞相关触发\r\n            uni.$on('indexFeedLoveChange', item => {\r\n                this.$refs[\"waterfall\"].modify(item.id, \"like_count\", item.like_count);\r\n                this.$refs[\"waterfall\"].modify(item.id, \"has_like\", item.has_like);\r\n            })\r\n\r\n\r\n        },\r\n        onPageScroll($event) {\r\n            // 获取当前的页面是在动态还是新闻\r\n            this.currentSwiperIndex === 0 ?\r\n                this.oldFeedsScrollTop = $event.scrollTop :\r\n                this.oldNewsScrollTop = $event.scrollTop;\r\n\r\n            //往下滑动超过220时, 顶部显示咨询动态切换按钮\r\n            this.navBarShowTag = $event.scrollTop >= 220\r\n        },\r\n        onPullDownRefresh() {\r\n            this.getAds()\r\n            if (this.currentSwiperIndex === 0) {\r\n                this.$refs.waterfall.clear()\r\n                this.getFeeds()\r\n            } else {\r\n                this.getNews()\r\n            }\r\n        },\r\n        onReachBottom() {\r\n            this.currentSwiperIndex === 0 ? this.getFeeds() : this.getNews()\r\n        },\r\n        methods: {\r\n            gotoTab(url) {\r\n                uni.switchTab({\r\n                    url,\r\n                })\r\n            },\r\n            //点击切换\r\n            swiperChange(index) {\r\n                // 0 is feeds & 1 is news\r\n                this.swiperSliderHeight =\r\n                    (this.currentSwiperIndex = index) === 0 ?\r\n                    this.swiperSliderFeedsHeight :\r\n                    this.swiperSliderNewsHeight\r\n\r\n                let newScrollTop = index === 0 ? this.oldFeedsScrollTop : this.oldNewsScrollTop\r\n\r\n                this.$nextTick(() => {\r\n                    uni.pageScrollTo({\r\n                        duration: 0,\r\n                        scrollTop: newScrollTop,\r\n                    })\r\n                })\r\n\r\n            },\r\n            // 如何快速生成函数代码块\r\n            async getAds() {\r\n                this.adList = await this.$u.api.getAdSwiper()\r\n            },\r\n            //滑动切换\r\n            onSwiperChange($event) {\r\n                // const index = ;\r\n                // console.log('$event.detail.current', $event.detail.current)\r\n                // 别忘了this\r\n                this.swiperChange($event.detail.current)\r\n            },\r\n            async getFeeds() {\r\n                let feeds = await this.$u.api.getFeeds()\r\n                let feedsList = feeds.feeds.map(item => {\r\n                    console.log('item.images[0].file', item.images[0].file)\r\n                    return {\r\n                        ...item,\r\n                        cover: this.BaseFileURL + item.images[0].file,\r\n                        avatar: !!item.user.avatar ? item.user.avatar.url : '/static/nopic.png',\r\n                        name: item.user.name,\r\n                    }\r\n                })\r\n                this.feedsList = [...this.feedsList, ...feedsList]\r\n                uni.$on(\"swiperHeightChange\", height => {\r\n                    console.log('feeds height', height)\r\n                    this.swiperSliderFeedsHeight = (height + 100) + \"px\"\r\n                    this.swiperSliderHeight = this.swiperSliderFeedsHeight\r\n                })\r\n            },\r\n\r\n            async getNews() {\r\n                let news = await this.$u.api.getNews()\r\n                let newsList = news.map(item => {\r\n                    return {\r\n                        ...item,\r\n                        cover: this.BaseFileURL + item.image.id,\r\n                    }\r\n                })\r\n\r\n                this.swiperSliderHeight = this.swiperSliderNewsHeight = (\r\n                    (this.newsList = [\r\n                        ...this.newsList,\r\n                        ...newsList\r\n                    ])\r\n                    .length * 95 + 50\r\n                ) + \"px\"\r\n                //是滑动到了底部才追加数据,必需要改变高度\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style\r\n    lang=\"scss\"\r\n    scoped\r\n>\r\n    #sns {\r\n        background-color: #f1f1f1;\r\n    }\r\n\r\n    // 推荐、咨询 按钮样式\r\n    .tabs-box {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        width: 750upx;\r\n\r\n        .one-nav {\r\n            width: 120upx;\r\n            color: #9B9B9B;\r\n            font-size: 36upx;\r\n            text-align: center;\r\n            font-weight: blod;\r\n\r\n            &.nav-actived {\r\n                color: #0050FF;\r\n            }\r\n        }\r\n    }\r\n\r\n    .header-box {\r\n        position: relative;\r\n        left: 0;\r\n        height: 500upx;\r\n        background-color: #f1f1f1;\r\n        z-index: 1;\r\n\r\n        // 广告位轮播器相关样式\r\n        .swiper {\r\n            width: 750upx;\r\n            height: 400upx;\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            text-align: center;\r\n            z-index: 1;\r\n\r\n            .banner-swiper-img {\r\n                width: 750upx;\r\n                height: 400upx;\r\n                box-shadow: 0 0 2px 0 rgb(188, 188, 188);\r\n            }\r\n        }\r\n\r\n        .crile {\r\n            width: 750upx;\r\n            height: 50upx;\r\n            position: absolute;\r\n            left: 0;\r\n            top: 355upx;\r\n            z-index: 9;\r\n        }\r\n\r\n        // 新鲜事 活动墙 按钮样式\r\n        .card-header {\r\n            position: absolute;\r\n            left: 0;\r\n            top: 320upx;\r\n            height: 160upx;\r\n            z-index: 99;\r\n            width: 710upx;\r\n            margin-left: 20upx;\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            align-content: center;\r\n\r\n            .card-one {\r\n                width: 328upx;\r\n                height: 96upx;\r\n                border-radius: 49upx;\r\n                background-color: #fff;\r\n                margin: 0 10upx;\r\n                box-shadow: 0 0 2px 0 rgb(188, 188, 188);\r\n                display: flex;\r\n                flex-direction: row;\r\n                flex-wrap: wrap;\r\n                justify-content: flex-start;\r\n                align-items: center;\r\n                align-content: center;\r\n\r\n                .img {\r\n                    width: 44upx;\r\n                    height: 44upx;\r\n                    margin-left: 50upx;\r\n                }\r\n\r\n                .iright {\r\n                    margin-left: 30upx;\r\n                    text-align: left;\r\n                    color: #888;\r\n\r\n                    .title {\r\n                        font-size: 30upx;\r\n                        color: #001432;\r\n                    }\r\n\r\n                    .iview {\r\n                        display: flex;\r\n                        flex-direction: row;\r\n                        flex-wrap: wrap;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        align-content: center;\r\n                        font-size: 20upx;\r\n                        margin-top: -5upx;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // 推荐、咨询 按钮样式\r\n        .tabs-box {\r\n            width: 750upx;\r\n            position: absolute;\r\n            z-index: 1;\r\n            left: 0;\r\n            top: 480upx;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: center;\r\n\r\n            .one-nav {\r\n                height: 80upx;\r\n                width: 110upx;\r\n                color: #9B9B9B;\r\n                font-size: 36upx;\r\n                text-align: center;\r\n                font-weight: blod;\r\n\r\n                &.nav-actived {\r\n                    color: #0050FF;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 此刻 栏目样式\\\r\n    .swiper-box {\r\n        background-color: #f1f1f1;\r\n        padding: 60upx 0 40upx;\r\n    }\r\n\r\n    .sns-now {\r\n\r\n        // 动态相关瀑布流样式\r\n        .feeds-box {\r\n            width: 735upx;\r\n            margin-left: 13upx;\r\n            padding-bottom: 20upx;\r\n\r\n            .feed-one {\r\n                width: 358upx;\r\n                margin-bottom: 12upx;\r\n                background-color: #FFF;\r\n                border-radius: 20upx;\r\n\r\n                position: relative;\r\n\r\n                .feed-img {\r\n                    width: 358upx;\r\n                    height: 300upx;\r\n                    border-radius: 10upx;\r\n                }\r\n\r\n                .feed-title {\r\n                    width: 350upx;\r\n                    margin-top: 15upx;\r\n                    margin-left: 10upx;\r\n                    font-size: 28upx;\r\n                    line-height: 40upx;\r\n                    color: #001432;\r\n                    text-align: left;\r\n                }\r\n\r\n                .feed-info {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    flex-wrap: nowrap;\r\n                    justify-content: space-between;\r\n                    align-items: center;\r\n                    align-content: center;\r\n                    margin-top: 10upx;\r\n                    font-size: 20upx;\r\n                    color: #666;\r\n                    padding: 0 10upx 16upx;\r\n\r\n                    .iview {\r\n                        display: flex;\r\n                        flex-direction: row;\r\n                        flex-wrap: nowrap;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        align-content: center;\r\n\r\n                        .ilike {\r\n                            display: flex;\r\n                            flex-direction: row;\r\n                            flex-wrap: nowrap;\r\n                            justify-content: space-between;\r\n                            align-items: center;\r\n                            align-content: center;\r\n                            height: 60upx;\r\n                            padding: 0 10upx;\r\n                            background-color: #FFFFFF;\r\n                        }\r\n                    }\r\n\r\n                    .avatar {\r\n                        margin-right: 10upx;\r\n                        height: 40upx;\r\n                        width: 40upx;\r\n                        border-radius: 50%;\r\n                        border: 1upx solid #eee;\r\n                    }\r\n\r\n                    .name {\r\n                        max-width: 120upx;\r\n                        color: #757474;\r\n                    }\r\n\r\n                    .micon {\r\n                        width: 32upx;\r\n                        height: 28upx;\r\n                    }\r\n\r\n                    .love-count {\r\n                        padding-left: 10upx;\r\n                        color: #757474;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 轮播页面 资讯\r\n    .sns-news {\r\n        background-color: #fff;\r\n        width: 750upx;\r\n\r\n        .one-new {\r\n            width: 700upx;\r\n            height: 74px;\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n            justify-content: space-around;\r\n            align-items: flex-start;\r\n            align-content: center;\r\n            padding-bottom: 10px;\r\n            padding-top: 10px;\r\n            padding-left: 25upx;\r\n            padding-right: 25upx;\r\n            border-bottom: 1px solid #f1f1f1;\r\n\r\n            .left {\r\n                width: 490upx;\r\n                height: 140upx;\r\n                text-align: left;\r\n                display: flex;\r\n                flex-direction: column;\r\n                justify-content: space-between;\r\n                align-items: flex-start;\r\n\r\n                .title {\r\n                    font-size: 30upx;\r\n                    line-height: 42upx;\r\n                    color: #001432;\r\n                    margin-top: 21upx;\r\n                }\r\n\r\n                .uinfo {\r\n                    width: 490upx;\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    flex-wrap: nowrap;\r\n                    justify-content: space-between;\r\n                    align-items: center;\r\n                    align-content: center;\r\n                    margin-top: 6upx;\r\n                    font-size: 20upx;\r\n                    color: #999;\r\n\r\n                    .utime {\r\n                        font-size: 24upx;\r\n\r\n                        .name {\r\n                            max-width: 120upx;\r\n                            color: #777;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .right {\r\n                width: 120upx;\r\n\r\n                .pic {\r\n                    width: 120upx;\r\n                    height: 120upx;\r\n                    margin-top: 20upx;\r\n                    border-radius: 6upx;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\App\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1703345074308\n      var cssReload = require(\"E:/App/HBuilderX.3.96.2023110403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}